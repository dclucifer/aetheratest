/* Parallax Scrolling Effects - Premium Visual Experience for Aethera Studio */

/* ========== PARALLAX VARIABLES ========== */

:root {
  --parallax-speed-slow: 0.5;
  --parallax-speed-medium: 0.7;
  --parallax-speed-fast: 0.9;
  --parallax-perspective: 1px;
  --parallax-distance-near: -1px;
  --parallax-distance-mid: -2px;
  --parallax-distance-far: -3px;
}

/* ========== PARALLAX CONTAINER SETUP ========== */

/* Main parallax container */
.parallax-container {
  height: 100vh;
  overflow-x: hidden;
  overflow-y: auto;
  perspective: var(--parallax-perspective);
  perspective-origin: center top;
}

/* Parallax wrapper for smooth scrolling */
.parallax-wrapper {
  position: relative;
  transform-style: preserve-3d;
  will-change: transform;
}

/* ========== PARALLAX LAYERS ========== */

/* Base parallax layer */
.parallax-layer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  transform-style: preserve-3d;
  will-change: transform;
}

/* Background layer (slowest) */
.parallax-back {
  transform: translateZ(var(--parallax-distance-far)) scale(4);
}

/* Middle layer */
.parallax-mid {
  transform: translateZ(var(--parallax-distance-mid)) scale(3);
}

/* Foreground layer (fastest) */
.parallax-front {
  transform: translateZ(var(--parallax-distance-near)) scale(2);
}

/* Base layer (normal speed) */
.parallax-base {
  transform: translateZ(0);
}

/* ========== HERO SECTION PARALLAX ========== */

/* Hero section with parallax background */
.hero-parallax {
  position: relative;
  height: 100vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Hero background with parallax effect */
.hero-background {
  position: absolute;
  top: -20%;
  left: -20%;
  width: 140%;
  height: 140%;
  background: linear-gradient(
    135deg,
    rgba(212, 175, 55, 0.1) 0%,
    rgba(0, 0, 0, 0.8) 50%,
    rgba(212, 175, 55, 0.1) 100%
  );
  will-change: transform;
  z-index: -3;
}

/* Hero particles background */
.hero-particles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 120%;
  background-image: 
    radial-gradient(2px 2px at 20px 30px, rgba(212, 175, 55, 0.3), transparent),
    radial-gradient(2px 2px at 40px 70px, rgba(212, 175, 55, 0.2), transparent),
    radial-gradient(1px 1px at 90px 40px, rgba(212, 175, 55, 0.4), transparent),
    radial-gradient(1px 1px at 130px 80px, rgba(212, 175, 55, 0.2), transparent);
  background-repeat: repeat;
  background-size: 150px 150px;
  will-change: transform;
  z-index: -2;
}

/* Hero content with subtle parallax */
.hero-content {
  position: relative;
  z-index: 1;
  text-align: center;
  will-change: transform;
}

/* ========== SCROLL-TRIGGERED PARALLAX ========== */

/* Elements that move on scroll */
.scroll-parallax {
  will-change: transform;
  transition: transform 0.1s ease-out;
}

/* Slow parallax movement */
.scroll-parallax-slow {
  transform: translateY(0);
}

/* Medium parallax movement */
.scroll-parallax-medium {
  transform: translateY(0);
}

/* Fast parallax movement */
.scroll-parallax-fast {
  transform: translateY(0);
}

/* ========== CARD PARALLAX EFFECTS ========== */

/* Cards with parallax hover effect */
.card-parallax {
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.3s ease;
  will-change: transform;
}

.card-parallax:hover {
  transform: rotateX(5deg) rotateY(5deg) translateZ(20px);
}

/* Card background layer */
.card-parallax::before {
  content: '';
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  background: linear-gradient(
    135deg,
    rgba(212, 175, 55, 0.1),
    transparent,
    rgba(212, 175, 55, 0.1)
  );
  border-radius: inherit;
  transform: translateZ(-10px);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: -1;
}

.card-parallax:hover::before {
  opacity: 1;
}

/* ========== FLOATING ELEMENTS ========== */

/* Floating animation with parallax */
.float-parallax {
  animation: float-parallax 6s ease-in-out infinite;
  will-change: transform;
}

@keyframes float-parallax {
  0%, 100% {
    transform: translateY(0px) translateZ(0px);
  }
  25% {
    transform: translateY(-10px) translateZ(5px);
  }
  50% {
    transform: translateY(-5px) translateZ(10px);
  }
  75% {
    transform: translateY(-15px) translateZ(5px);
  }
}

/* Staggered floating elements */
.float-parallax:nth-child(2) {
  animation-delay: -2s;
}

.float-parallax:nth-child(3) {
  animation-delay: -4s;
}

/* ========== MOUSE PARALLAX EFFECTS ========== */

/* Mouse-following parallax container */
.mouse-parallax {
  position: relative;
  will-change: transform;
  transition: transform 0.3s ease-out;
}

/* Layers that respond to mouse movement */
.mouse-parallax-layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  will-change: transform;
  transition: transform 0.2s ease-out;
}

.mouse-parallax-layer-1 {
  transform: translate(0, 0);
}

.mouse-parallax-layer-2 {
  transform: translate(0, 0);
}

.mouse-parallax-layer-3 {
  transform: translate(0, 0);
}

/* ========== SECTION PARALLAX EFFECTS ========== */

/* Section with parallax background */
.section-parallax {
  position: relative;
  overflow: hidden;
  min-height: 100vh;
}

.section-parallax-bg {
  position: absolute;
  top: -20%;
  left: -20%;
  width: 140%;
  height: 140%;
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  will-change: transform;
  z-index: -1;
}

/* Content with parallax offset */
.section-parallax-content {
  position: relative;
  z-index: 1;
  will-change: transform;
}

/* ========== NAVIGATION PARALLAX ========== */

/* Navigation with parallax effect */
.nav-parallax {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  backdrop-filter: blur(10px);
  will-change: transform;
  transition: transform 0.3s ease;
}

/* Hide navigation on scroll down, show on scroll up */
.nav-parallax.hidden {
  transform: translateY(-100%);
}

.nav-parallax.visible {
  transform: translateY(0);
}

/* ========== BUTTON PARALLAX EFFECTS ========== */

/* Buttons with 3D parallax effect */
.btn-parallax {
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.3s ease;
  will-change: transform;
}

.btn-parallax:hover {
  transform: translateZ(10px) rotateX(10deg);
}

.btn-parallax::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: inherit;
  border-radius: inherit;
  transform: translateZ(-5px) translateY(5px);
  opacity: 0.5;
  filter: blur(2px);
  transition: all 0.3s ease;
}

.btn-parallax:hover::before {
  transform: translateZ(-10px) translateY(10px);
  opacity: 0.8;
}

/* ========== TEXT PARALLAX EFFECTS ========== */

/* Text with parallax reveal */
.text-parallax {
  position: relative;
  overflow: hidden;
}

.text-parallax .text-layer {
  display: inline-block;
  will-change: transform;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.text-parallax.revealed .text-layer {
  transform: translateY(0);
}

.text-parallax .text-layer {
  transform: translateY(100%);
}

/* Staggered text reveal */
.text-parallax .text-layer:nth-child(1) { transition-delay: 0.1s; }
.text-parallax .text-layer:nth-child(2) { transition-delay: 0.2s; }
.text-parallax .text-layer:nth-child(3) { transition-delay: 0.3s; }
.text-parallax .text-layer:nth-child(4) { transition-delay: 0.4s; }
.text-parallax .text-layer:nth-child(5) { transition-delay: 0.5s; }

/* ========== RESPONSIVE PARALLAX ========== */

/* Disable parallax on mobile for performance */
@media (max-width: 768px) {
  .parallax-container {
    perspective: none;
  }
  
  .parallax-layer,
  .parallax-back,
  .parallax-mid,
  .parallax-front {
    transform: none;
  }
  
  .hero-background,
  .hero-particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  
  .section-parallax-bg {
    background-attachment: scroll;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  
  .card-parallax:hover {
    transform: translateY(-5px);
  }
  
  .btn-parallax:hover {
    transform: translateY(-2px);
  }
}

/* Tablet adjustments */
@media (min-width: 768px) and (max-width: 1024px) {
  .hero-background,
  .hero-particles {
    top: -10%;
    left: -10%;
    width: 120%;
    height: 120%;
  }
  
  .section-parallax-bg {
    top: -10%;
    left: -10%;
    width: 120%;
    height: 120%;
  }
}

/* ========== PERFORMANCE OPTIMIZATIONS ========== */

/* Reduce parallax for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .parallax-container {
    perspective: none;
  }
  
  .parallax-layer,
  .scroll-parallax,
  .card-parallax,
  .btn-parallax,
  .mouse-parallax {
    transform: none !important;
    animation: none !important;
  }
  
  .float-parallax {
    animation: none;
  }
  
  .text-parallax .text-layer {
    transform: none !important;
    transition: none !important;
  }
}

/* GPU acceleration for smooth parallax */
.parallax-layer,
.scroll-parallax,
.card-parallax,
.btn-parallax,
.mouse-parallax,
.hero-background,
.hero-particles,
.section-parallax-bg {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* ========== UTILITY CLASSES ========== */

/* Enable/disable parallax */
.parallax-enabled {
  transform-style: preserve-3d;
}

.parallax-disabled {
  transform-style: flat;
}

/* Parallax intensity modifiers */
.parallax-subtle {
  --parallax-speed-slow: 0.8;
  --parallax-speed-medium: 0.9;
  --parallax-speed-fast: 0.95;
}

.parallax-intense {
  --parallax-speed-slow: 0.3;
  --parallax-speed-medium: 0.5;
  --parallax-speed-fast: 0.7;
}

/* ========== INTERSECTION OBSERVER TRIGGERS ========== */

/* Elements that trigger on scroll into view */
.parallax-trigger {
  opacity: 0;
  transform: translateY(50px);
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.parallax-trigger.in-view {
  opacity: 1;
  transform: translateY(0);
}

/* Staggered reveal */
.parallax-trigger:nth-child(1) { transition-delay: 0.1s; }
.parallax-trigger:nth-child(2) { transition-delay: 0.2s; }
.parallax-trigger:nth-child(3) { transition-delay: 0.3s; }
.parallax-trigger:nth-child(4) { transition-delay: 0.4s; }
.parallax-trigger:nth-child(5) { transition-delay: 0.5s; }

/* ========== ADVANCED PARALLAX EFFECTS ========== */

/* Depth of field effect */
.parallax-depth {
  position: relative;
}

.parallax-depth .depth-layer-1 {
  filter: blur(0px);
  z-index: 3;
}

.parallax-depth .depth-layer-2 {
  filter: blur(1px);
  z-index: 2;
}

.parallax-depth .depth-layer-3 {
  filter: blur(2px);
  z-index: 1;
}

/* Tilt effect on hover */
.parallax-tilt {
  transform-style: preserve-3d;
  transition: transform 0.3s ease;
}

.parallax-tilt:hover {
  transform: perspective(1000px) rotateX(10deg) rotateY(10deg);
}

/* Magnetic effect */
.parallax-magnetic {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
}

/* Applied via JavaScript based on mouse position */
.parallax-magnetic.attracted {
  transform: translate(var(--mouse-x, 0), var(--mouse-y, 0));
}

/* === AUTO-APPEND: kill-underlay (other css) === */

/* === KILL GLOBAL UNDERLAY ACCENTS (auto-appended) === */
body::before, body::after,
html::before, html::after,
#app::before, #app::after,
#app-container::before, #app-container::after,
.app-shell::before, .app-shell::after,
.page::before, .page::after,
.top-accent, .bottom-accent {
  content: none !important;
  display: none !important;
  background: none !important;
  box-shadow: none !important;
}

/* Header wrapper should be transparent (Card Header style) */
header {
  background: transparent !important;
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
  box-shadow: none !important;
}

/* === END AUTO-APPEND: kill-underlay (other css) === */
